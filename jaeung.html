<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="dealerCard" ></div>
    <div id="card" ></div>
    <div>
        <button id="pickCard" onclick="pickCard()"> 카드 뽑기</button>
        <button id="gameover" onclick="gameover()">STOP</button>
    </div>

    <script>
        let playerscore = 0;
        let dealerscore = 0;
        const filelist = [
            { "filename": "2C.png", "score": "2" }, { "filename": "3C.png", "score": "3" }, { "filename": "4C.png", "score": "4" }, { "filename": "5C.png", "score": "5" }, { "filename": "6C.png", "score": "6" },
            { "filename": "7C.png", "score": "7" }, { "filename": "8C.png", "score": "8" }, { "filename": "9C.png", "score": "9" }, { "filename": "10C.png", "score": "10" }, { "filename": "AC.png", "score": "1" },
            { "filename": "KC.png", "score": "10" }, { "filename": "QC.png", "score": "10" }, { "filename": "JC.png", "score": "10" },
            { "filename": "2D.png", "score": "2" }, { "filename": "3D.png", "score": "3" }, { "filename": "4D.png", "score": "4" }, { "filename": "5D.png", "score": "5" }, { "filename": "6D.png", "score": "6" },
            { "filename": "7D.png", "score": "7" }, { "filename": "8D.png", "score": "8" }, { "filename": "9D.png", "score": "9" }, { "filename": "10D.png", "score": "10" }, { "filename": "AD.png", "score": "1" },
            { "filename": "KD.png", "score": "10" }, { "filename": "QD.png", "score": "10" }, { "filename": "JD.png", "score": "10" },
            { "filename": "2H.png", "score": "2" }, { "filename": "3H.png", "score": "3" }, { "filename": "4H.png", "score": "4" }, { "filename": "5H.png", "score": "5" }, { "filename": "6H.png", "score": "6" },
            { "filename": "7H.png", "score": "7" }, { "filename": "8H.png", "score": "8" }, { "filename": "9H.png", "score": "9" }, { "filename": "10H.png", "score": "10" }, { "filename": "AH.png", "score": "1" },
            { "filename": "KH.png", "score": "10" }, { "filename": "QH.png", "score": "10" }, { "filename": "JH.png", "score": "10" },
            { "filename": "2S.png", "score": "2" }, { "filename": "3S.png", "score": "3" }, { "filename": "4S.png", "score": "4" }, { "filename": "5S.png", "score": "5" }, { "filename": "6S.png", "score": "6" },
            { "filename": "7S.png", "score": "7" }, { "filename": "8S.png", "score": "8" }, { "filename": "9S.png", "score": "9" }, { "filename": "10S.png", "score": "10" }, { "filename": "AS.png", "score": "1" },
            { "filename": "KS.png", "score": "10" }, { "filename": "QS.png", "score": "10" }, { "filename": "JS.png", "score": "10" }
        ];

        var tempCardList = filelist;

        function pickCard() {
            let cardIndex = parseInt(Math.random() * tempCardList.length);
            let cardName = tempCardList[cardIndex];
            tempCardList.splice(cardIndex, 1);

            let dealerCardIndex = parseInt(Math.random() * tempCardList.length);
            let dealerCardName = tempCardList[dealerCardIndex];
            tempCardList.splice(dealerCardName, 1);

            console.log(tempCardList.length);

            document.getElementById("card").innerHTML += '<img src=52_cards/' + cardName.filename + ' alt="" style="float: left; width: 10%">';
            document.getElementById("dealerCard").innerHTML += '<img src=52_cards/' + dealerCardName.filename + ' alt="" style="float: right; width: 10%">';


            return {"dealerScore": cardName.score};
        }

        let score = 0;

        // if (score > ) {

        // } else {

        // }

        // 게임 진행 새로운 카드를 뽑는 
        // 게임 종료는 초기화
        // 카드를 초기화 하고 점수값을 리턴, 사진은 계속 옆으로 붙히자



        //document.getElementById("gameover").addEventListener("click",gameover);
        function gameover() {
            result();
            document.getElementById("card").innerHTML = "";
            document.getElementById("dealerCard").innerHTML = "";
            tempCardList = filelist;
            playerscore = 0;
            dealerscore = 0;
        }

        function result() {

        }
    </script>







<!-- 점수 결론 로직 -->
    <script>
        function endRound() {

            var i, d, p, tmp;

            // Enable/disable buttons.

            document.forms["controls"].elements["deal"].disabled = false;
            EnableBetButtons();
            DisablePlayButtons();

            // Fix for IE 6 rendering bug.

            if (navigator.userAgent.indexOf("MSIE 6") >= 0) {
                dealer.cardsNode.firstChild.style.backgroundImage = "none";
                dealer.cardsNode.firstChild.style.backgroundColor = "white";
            }

            // Show the dealer's down card and score.

            dealer.cardsNode.firstChild.firstChild.style.visibility = "";
            d = dealer.getScore();
            if (!dealer.blackjack && d <= 21)
                dealer.scoreTextNode.nodeValue = d;

            // Show result of each player hand and pay it off, if appropriate.

            for (i = 0; i < numPlayerHands; i++) {
                p = player[i].getScore();
                if (player[i].surrender) {
                    player[i].resultTextNode.nodeValue = "Player Surrendered";
                    player[i].bet /= 2;
                    credits += player[i].bet;
                }
                else if ((player[i].blackjack && !dealer.blackjack) ||
                    (p <= 21 && d > 21) || (p <= 21 && p > d)) {
                    player[i].resultTextNode.nodeValue = "Player Wins";
                    tmp = 2 * player[i].bet;

                    // Blackjack pays 3 to 2.

                    if (player[i].blackjack)
                        tmp += player[i].bet / 2;

                    player[i].bet = tmp;
                    credits += player[i].bet;
                }
                else if ((dealer.blackjack && !player[i].blackjack) ||
                    p > 21 || p < d) {
                    player[i].resultTextNode.nodeValue = "Player Loses";
                    addClassName(player[i].betTextNode.parentNode, "lost");
                }
                updateBetDisplay(i);
            }
        }
    </script>
</body>

</html>